uint64_t sumDigitsUpTo(uint64_t n){
  if(n <= 0) return 0;
  uint64_t sum = 0;
  for(uint64_t f = 1; f <= n; f *= 10){
    uint64_t hi = n / (f * 10);
    uint64_t cur = (n / f) % 10;
    uint64_t lo = n % f;
    sum += hi * 45LL * f;
    sum += cur * (lo + 1);
    sum += f * (cur * (cur - 1) / 2);
  }
  return sum;
}
